#include <graphics.h>
#include <iostream>
#include <cmath>
using namespace std;

// Function to plot all eight symmetrical points of the circle
void plotCircle(int xc, int yc, int x, int y) {
    // Plot points in all 8 octants using symmetry
    putpixel(xc + x, yc + y, WHITE);  // Quadrant I
    putpixel(xc - x, yc + y, WHITE);  // Quadrant II
    putpixel(xc + x, yc - y, WHITE);  // Quadrant IV
    putpixel(xc - x, yc - y, WHITE);  // Quadrant III
    putpixel(xc + y, yc + x, WHITE);  // Quadrant I (reflecting across y = x)
    putpixel(xc - y, yc + x, WHITE);  // Quadrant II (reflecting across y = x)
    putpixel(xc + y, yc - x, WHITE);  // Quadrant IV (reflecting across y = x)
    putpixel(xc - y, yc - x, WHITE);  // Quadrant III (reflecting across y = x)
}

// Bresenham's Circle Drawing Algorithm
void drawCircle(int xc, int yc, int radius) {
    int x = 0;
    int y = radius;
    int d = 3 - 2 * radius;  // Decision parameter

    // Draw the circle using the Bresenham algorithm
    while (x <= y) {
        plotCircle(xc, yc, x, y);  // Plot points
        if (d < 0)
            d += 4 * x + 6;  // Move east
        else {
            d += 4 * (x - y) + 10;  // Move south-east
            y--;  // Decrease y
        }
        x++;  // Increase x
    }
}

// Draw X and Y axes at the center
void drawAxes(int midx, int midy) {
    setcolor(RED);
    line(0, midy, getmaxx(), midy);  // X-axis (horizontal)
    line(midx, 0, midx, getmaxy());  // Y-axis (vertical)
}

int main() {
    int gd = DETECT, gm;
    initgraph(&gd, &gm, "");  // Initialize graphics mode

    // Get screen center
    int midx = getmaxx() / 2;
    int midy = getmaxy() / 2;

    // Draw X and Y axes
    drawAxes(midx, midy);

    int radius;
    cout << "Enter radius of the circle: ";
    cin >> radius;

    // Draw the circle in all 4 quadrants around the center (0,0)
    drawCircle(midx, midy, radius);            // Center
    drawCircle(midx + 100, midy + 100, radius); // Quadrant I
    drawCircle(midx - 100, midy + 100, radius); // Quadrant II
    drawCircle(midx - 100, midy - 100, radius); // Quadrant III
    drawCircle(midx + 100, midy - 100, radius); // Quadrant IV

    getch();  // Wait for user input before closing the window
    closegraph();  // Close the graphics mode
    return 0;
}